<html>
	<head>
	<script src="https://assets.adobedtm.com/e72b4113c11a/28cf14cbcd96/launch-d2a0090a9844-development.min.js" async></script>
	<!--Stage and prod launch code
	<script src="https://assets.adobedtm.com/e72b4113c11a/28cf14cbcd96/launch-a9c72840eaf3-staging.min.js" async></script>
	<script src="https://assets.adobedtm.com/e72b4113c11a/28cf14cbcd96/launch-8fe391326d74.min.js" async></script>--->
	<title>Testing the event driven data layer Page 1</title>
	</head>
	
	
	<body>
	<!--<script src="testEDDL.js"></script>
	<script src="CEDDL.js"></script>-->
	 <script type="text/javascript">
	  window.EDC = window.EDC || {};
	  EDC.datalayerObj = 'digitalData';
	  if (!window.digitalData) {
             window[EDC.datalayerObj] = {};
             window[EDC.datalayerObj].events = window[EDC.datalayerObj].events || [];
             window[EDC.datalayerObj].user = window[EDC.datalayerObj].user || {};
             window[EDC.datalayerObj].user.segment = window[EDC.datalayerObj].user.segment || {};
          }
          //Function to push data into events array property in digitalData object
       	    EDC.utils = EDC.utils || new function () {
            'use strict';
             this.dataLayerTracking = function (obj) {
                if (window[window.EDC.datalayerObj] && obj) {
                    window[window.EDC.datalayerObj].events = [];
                    window[window.EDC.datalayerObj].events.push(obj);
                }
               if (typeof _satellite !== 'undefined') {
		   alert("DC rule fired");		       
                   //_satellite.track('dl-event tracking');
                }
            };
        }
	</script>
	<h1> Data Layer Test </h1>
	
	<!--<button onclick="updateDataLayer1()"> send data </button>
	
	<script>
	function updateDataLayer1(){
		alert("Button Clicked");
		var obj = {
			'event' : 'cta',
			'eventInfo': {
				'eventAction': 'click',
				'eventName': 'button click',	
				'eventType': 'button',
				'eventComponent': 'Testing Component', 	
				'eventPage': 'Solutions.html',	
				'eventPageName': 'Data Layer Test',
				'destinationPage': 'Next page',
				'eventText': 'send data'	            //expl: 'learn more'
			}
		}
		EDCTest.utils.dataLayerTracking(obj);
	}
	</script>
	
 	<button onclick="updateDataLayer2()"> Submit </button>
	
	<script>
	function updateDataLayer2(){
		alert("Button Clicked");
		var obj = {
			eventInfo: {
			eventComponent: "brand – newsletter subscription",
			eventType: "form",
			eventName: "form – email submitted",
			eventText: "Submit",
			eventPage: window.location.href
			}
		};
		EDC.utils.dataLayerTracking(obj);
	}
	</script>
	<a href = "Solutions_1.html" onclick="updateDataLayer()" target="_blank">Next Page</a>
		<script>
		function updateDataLayer(){
		var obj = {
			'event' : 'cta',
			'eventInfo': {
				'eventAction': 'click',
				'eventName': 'link click',	
				'eventType': 'link',
				'eventComponent': 'Testing Component', 	
				'eventPage': 'Solutions.html',	
				'eventPageName': 'Data Layer Test',
				'destinationPage': 'Next page',
				'eventText': 'Next Page'	            //expl: 'learn more'
			}
		}
		EDCTest.utils.dataLayerTracking(obj);
	}
	</script>-->
	  <section class="c-gated-lead-gen-form">
                                                <div class="form-background">
                                                    <form name="BRANDLPFROM1" id="step1" class="email-section" data-event-component="Brand Campaing Email Subscription" data-event-type="form" data-event-name="brand 2023 - form submit" data-event-action="main body" data-event-engagement="3" data-event-level="1">
                                                    <input value="BRANDLPFROM1" type="hidden" name="elqFormName">
                                                    <input value="2126871889" type="hidden" name="elqSiteId">
                                                    <input name="elqCampaignId" type="hidden">
                                                    <div class="form-group">
                                                        <label for="emailAddress">Business e-mail address:</label>
                                                        <p class="description">Share your email address to receive our latest insights personalized to your business.</p>
                                                        <input type="email" class="form-control email-submit" placeholder="example@edc.ca" name="emailAddress" id="emailAddress" required="required" aria-invalid="true">
                                                        <div id="error1" class="error"></div>
                                                    </div>
                                                    <div class="form-disclaimer-brand">
                                                        <div class="text">
                                                            <p>By submitting this form, I consent to receive EDC’s newsletters, trade information and promotional messages, and can withdraw consent at any time.</p>
                                                        </div>
                                                    </div>
                                                    <div class="c-keyline aem-GridColumn--tablet--12 aem-GridColumn--offset--tablet--0 aem-GridColumn--phone--none aem-GridColumn--phone--12 aem-GridColumn--tablet--none aem-GridColumn aem-GridColumn--default--12 aem-GridColumn--offset--phone--0 my-5" id="keyLine">
                                                        <div class="key-line"></div>
                                                    </div>
                                                    <div class="actions step one">
                                                        <button class="c-interaction-button bottonform" type="submit" id="getstartednow1" onclick="updateDataLayer()" data-english-text="Submit">Submit&nbsp;&nbsp;›</button>
                                                   	<script>
								function updateDataLayer(){
									alert("Button Clicked");
									var obj = {
										eventInfo: {
										eventComponent: "brand – newsletter subscription",
										eventType: "form",
										eventName: "form – email submitted",
										eventText: "Submit",
										eventPage: window.location.href
									}
								};
								EDC.utils.dataLayerTracking(obj);
							}
						    </script>
						    </div>
                                                    <div class="layout container-fluid">
                                                        <input type="hidden" name="caslConsent" id="caslConsent" value="">
                                                        <input type="hidden" name="lang" id="formLang" value="">
                                                        <input type="hidden" name="fullFromPage" id="fullFromPage" value="">
                                                        <input type="hidden" name="utmParameters" id="utmParameters" value="">
                                                        <input type="hidden" name="referringUrl" id="referringUrl" value="">
                                                        <input type="hidden" name="cdoEloquaFormName1" id="fe6810" value="Standard Form - BRAND_LP_FORM1">
                                                        <input type="hidden" name="cdoEloquaFormHtmlName1" id="fe6788" value="BRANDLPFROM1">
                                                        <input type="hidden" name="cdoEloquaFormId1" id="fe6789" value="377">
                                                        <input type="hidden" name="cdoFormWebinar1" id="fe6811" value="Form">
                                                        <input type="hidden" name="formInquiryID" id="fe6923" value="BC_LPForm1">
                                                    </div>
                                                </form>
                                                <div id="successMessage" style="display:none;" class="success-message my-5">
                                                    <p><b>Thank you!</b> We’ll deliver our latest business insights right to your inbox. Please provide additional information, so we can personalize our content to suit your needs.</p>
                                                </div>

                                                <!--<form name="BRANDLPFROM2" id="step2" class="form-section">
                                                    <input value="BRANDLPFROM2" type="hidden" name="elqFormName">
                                                    <input value="2126871889" type="hidden" name="elqSiteId">
                                                    <input name="elqCampaignId" type="hidden">
                                                    <div class="form-row">
                                                        <div class="form-group firstName">
                                                            <label for="firstName">First name:</label>
                                                            <input type="text" class="form-control" name="firstName" id="firstName" maxlength="100">
                                                            <div id="error2"></div>
                                                        </div>
                                                        <div class="form-group lastName">
                                                            <label for="lastName">Last name:</label>
                                                            <input type="text" class="form-control" name="lastName" id="lastName" maxlength="100">
                                                            <div id="error3"></div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group companyName">
                                                        <label for="companyName">Company Name</label>
                                                        <input type="text" class="form-control" name="companyName" id="companyName" maxlength="100">
                                                        <div id="error4"></div>
                                                    </div>
                                                    <div data-form-field="annualSales" class="form-group">
                                                        <div class="c-dropdown " data-component-state="initialized" style="height: auto;">
                                                            <div class="dropdown-overlay">
                                                                <label for="annualSales">What are your total business
                                                                    annual sales?</label>
                                                                <div class="dropdown-container">
                                                                    <div class="dropdown-title">
                                                                        <span class="label-text">What are your total
                                                                            business annual sales?</span>
                                                                        <span class="close-btn"></span>
                                                                    </div>
                                                                    <div class="form-control ui selection dropdown open" tabindex="0"><select name="annualSales" id="annualSales" validation-rule="none" data-no-ur="">
                                                                            <option value="" hidden=""></option>
                                                                            <option value="No current sales / Start-up">
                                                                                No current sales / Start-up</option>
                                                                            <option value="Less than $1,000,000">$1 - $499,999
                                                                            </option>
                                                                            <option value="Less than $1,000,000">
                                                                                $500,000 - $999,999</option>
                                                                            <option value="$1,000,000 - $9,999,999">
                                                                                $1,000,000 - $9,999,999</option>
                                                                            <option value="$10,000,000 - $49,999,999">
                                                                                $10,000,000 - $49,999,999</option>
                                                                            <option value="$50,000,000 - $299,999,999">
                                                                                $50,000,000 - $299,999,999 </option>
                                                                            <option value="$300,000,000 and above">
                                                                                $300,000,000 and above</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                            <div class="dropdown-overlay">
                                                                <label for="customerField1">Is your business currently
                                                                    invoicing a company outside of Canada?</label>
                                                                <div class="dropdown-container ">
                                                                    <div class="dropdown-title">
                                                                        <span class="label-text">Is your business
                                                                            currently invoicing a company outside of
                                                                            Canada?</span>
                                                                        <span class="close-btn"></span>
                                                                    </div>
                                                                    <div class="form-control ui selection dropdown" tabindex="0"><select name="customerField1" id="customerField1" validation-rule="none" data-no-url="">
                                                                            <option value="" hidden=""></option>
                                                                            <option value="Currently Exporting">
                                                                                Yes, we’re currently invoicing a company
                                                                                outside Canada</option>
                                                                            <option value="Planning Within 2 Years">
                                                                                No, but we have a new contract or an
                                                                                export plan with a company outside
                                                                                Canada</option>
                                                                            <option value="Exporting Indirectly">
                                                                                No, but we’re invoicing a company in
                                                                                Canada for our goods/services that then
                                                                                resells outside of Canada</option>
                                                                            <option value="Currently Exporting">
                                                                                No, but we’re currently investing in
                                                                                business opportunities outside Canada
                                                                            </option>
                                                                            <option value="Currently not exporting">
                                                                                No, we’re not currently invoicing a
                                                                                company outside Canada</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="layout container-fluid">
                                                        <input type="hidden" name="emailAddress2" id="hiddenEmailId" value="">
                                                        <input type="hidden" name="lang" id="formLang2" value="">
                                                        <input type="hidden" name="cdoEloquaFormName2" id="fe6812" value="Standard Form - BRAND_LP_FORM2">
                                                        <input type="hidden" name="cdoEloquaFormHtmlName2" id="fe6802" value="BRANDLPFROM2">
                                                        <input type="hidden" name="cdoEloquaFormId2" id="fe6803" value="378">
                                                        <input type="hidden" name="cdoFormWebinar2" id="fe6813" value="Form">
                                                        <input type="hidden" name="formInquiryID" id="fe6924" value="BC_LPForm2">
                                                    </div>
                                                    <br />
                                                    <div class="c-keyline aem-GridColumn--tablet--12 aem-GridColumn--offset--tablet--0 aem-GridColumn--phone--none aem-GridColumn--phone--12 aem-GridColumn--tablet--none aem-GridColumn aem-GridColumn--default--12 aem-GridColumn--offset--phone--0 my-5">
                                                        <div class="key-line"></div>
                                                    </div>
                                                    <div class="actions step two">
                                                        <button class="c-interaction-button bottonform" type="submit" id="getstartednow2" data-english-text="Submit">Submit&nbsp;&nbsp;›</button>
                                                    </div>
                                                </form>
                                                <div id="successMessage2" style="display:none;">
                                                    <h3><b>Thank you!</b> We'll deliver our personalized business insights right to your inbox.</h3>
                                                </div>
                                                </div>-->
                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
	
	<!--Data Layer--->
	<script type="text/javascript">
	
	var dataLayerJS = (function (){
		'use strict';
		 
		 function init(){
		 
			var obj= {
				'event': 'page-loaded',
				'page': {
					'pageType': 'homepage',
					'pageName': 'Test Page 1',
					'primaryCategory': '',
					'subCategory1': '',
					'subCategory2': '',
					'issueDate': '2018-09-19',
					'siteEnv': 'prod',            //'qac', 'ppr', 'production'
					'sysEnv': 'desktop', 	 // 'mobile', 'desktop', 'tablet'
					'language': 'ENGLISH',	// 'english', 'french'
					'server': 'localhost',
				},
				'user': {
					'authStatus' : 'not-authenticated',    //status is non-authenticated until successful login
					'externalID': '<external ID>',       // to be persisted in Launch
					'guid': '123456789',	                // to be persisted in Launch
					'exportStatus': 'Currently Exporting'
				}
			}
			
			if (window[EDCTest.datalayerObj]) {
				 window[window.EDCTest.datalayerObj].push(obj);
						//EDC.forms.WaitUntilCustomerGUIDIsRetrieved(); // Eloqua Customer GUID.
					   // window.EDC.utils.addListTags('region', '[]', obj.page.content);
					   // window.EDC.utils.addListTags('solution', '[]', obj.user.segment);
			}
		}
		 return {
            init
        };
	})();

    dataLayerJS.init();

	</script>
	
	 <!-- End of Data layer -->
	
	
	</body>

</html>
