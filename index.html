<html>
	<head>
	<!--Property 1 -->
	<script src="https://assets.adobedtm.com/e72b4113c11a/28cf14cbcd96/launch-d2a0090a9844-development.min.js" async></script>
	<!-- Property 2
	<script src="https://assets.adobedtm.com/e72b4113c11a/9233a463faa5/launch-a68d40369487-development.min.js" async></script>-->
	<script src="testEDDL.js"></script>
	<script src="CEDDL.js"></script>
	<title>Testing the event driven data layer Page 1</title>
	</head>
	
	
	<body>
	
	
	<h1> Data Layer Test </h1>
	
	<button id="sendData"> send data </button>
	
	<script>
	
	function updateDataLayerMethod(){
	
		var obj = {
			'event' : 'cta',
			'eventInfo': {
				'eventAction': 'click',
				'eventName': 'button click - EDDL',	
				'eventType': 'button',
				'eventComponent': 'Testing Component send data', 	
				'eventPage': 'Solutions.html',	
				'eventPageName': 'Data Layer Test',
				'destinationPage': 'Next page',
				'eventText': 'send data'	            //expl: 'learn more'
			}
		}
		/*const objCEDDL = {
			eventInfo: {
				eventComponent: "Testing component sent data",
				eventType: "button",
				eventName: "button click - CEDDL",
				eventText: "send data",
				eventPage: window.location.href
			}	
		}
	
                EDC.utils.dataLayerTracking(objCEDDL)*/
        
		EDCTest.utils.dataLayerTracking(obj);

	}
	function loadEventData()
	{
		updateDataLayerMethod();
	}
	document.getElementById('sendData').addEventListener('click', function(e) {
		EDC.utils.dataLayerTracking({
        		eventComponent: "Testing component sent data",
			eventType: "button",
			eventName: "button click - CEDDL",
			eventText: "send data",
			eventPage: window.location.href
     		 }, e);
		loadEventData();
	});
	
	</script>
	
 	<button id="submitData" type="submit"> Submit </button>
      
	<script>
	function updateDataLayerMethod2(){
		//alert("Button Clicked");
		/*var objCEDDL = {
			eventInfo: {
			eventComponent: "Testing component submit",
			eventType: "button",
			eventName: " button - click - CEDDL",
			eventText: "Submit",
			eventPage: window.location.href
			}
		};
		EDC.utils.dataLayerTracking(objCEDDL);*/
		var obj = {
			'event' : 'cta',
			'eventInfo': {
				'eventAction': 'click',
				'eventName': 'button click - EDDL',	
				'eventType': 'button',
				'eventComponent': 'Testing Component submit', 	
				'eventPage': 'Solutions.html',	
				'eventPageName': 'Data Layer Test',
				'destinationPage': 'Next page',
				'eventText': 'submit'	            //expl: 'learn more'
			}
		}
		//EDC.utils.dataLayerTracking(objCEDDL);
		EDCTest.utils.dataLayerTracking(obj);
	}
	function loadEventData2()
	{
		updateDataLayerMethod2();
	}
	document.getElementById('submitData').addEventListener('click', function(e) {
		EDC.utils.dataLayerTracking({
			eventComponent: "Testing component submit",
			eventType: "button",
			eventName: " button - click - CEDDL",
			eventText: "Submit",
			eventPage: window.location.href
			
	},e);
	loadEventData2();
	});
	</script>
 
	
	<a id="linkData" href = "Solutions_1.html">Next Page</a>
		<script>
		function updateDataLayerMethod3(){
		var obj = {
			'event' : 'cta',
			'eventInfo': {
				'eventAction': 'click',
				'eventName': 'link click',	
				'eventType': 'link',
				'eventComponent': 'Testing Component', 	
				'eventPage': 'Solutions.html',	
				'eventPageName': 'Data Layer Test',
				'destinationPage': 'Next page',
				'eventText': 'Next Page'	            //expl: 'learn more'
			}
		}

		/*var objCEDDL = {
			eventInfo: {
			eventComponent: "Testing component Next page",
			eventType: "link",
			eventName: " link - click - CEDDL",
			eventText: "Next Page",
			eventPage: window.location.href
			}
		};
		EDC.utils.dataLayerTracking(objCEDDL);*/
		EDCTest.utils.dataLayerTracking(obj);
	}
	function loadEventData3()
	{
		updateDataLayerMethod3();
	}
	document.getElementById('linkData').addEventListener('click', function(e) {
		EDC.utils.dataLayerTracking({
        		eventComponent: "Testing component Next page",
			eventType: "link",
			eventName: " link - click - CEDDL",
			eventText: "Next Page",
			eventPage: window.location.href
     		 },e);
		loadEventData3();
	});
	
	</script>
	
	
	<!--Data Layer--->
	<script type="text/javascript">
	
	var dataLayerJS = (function (){
		'use strict';
		 
		 function init(){
		 
			var obj= {
				'event': 'page-loaded',
				'page': {
					'pageType': 'homepage',
					'pageName': 'Test Page 1',
					'primaryCategory': '',
					'subCategory1': '',
					'subCategory2': '',
					'issueDate': '2018-09-19',
					'siteEnv': 'prod',            //'qac', 'ppr', 'production'
					'sysEnv': 'desktop', 	 // 'mobile', 'desktop', 'tablet'
					'language': 'ENGLISH',	// 'english', 'french'
					'server': 'localhost',
				},
				'user': {
					'authStatus' : 'not-authenticated',    //status is non-authenticated until successful login
					'externalID': '<external ID>',       // to be persisted in Launch
					'guid': '123456789',  // to be persisted in Launch
					'exportStatus': 'currently exporting - EDDL'
			
				}
			   
			}
			
			

			var objCEDDL= {
				page: {
                       			 category: {
                           			 pageType: 'homepage', // As named within AEM.
                           			 primaryCategory: '', // From folder structure first entry following language folder.
                           			 subCategory1: '', // From folder structure second entry following language folder.
                           			 subCategory2: '' // Populate if category is present. Only use English name of category.
                        		},
                       			pageInfo: {
                            			issueDate: '2018\u002D09\u002D19', // YYYY-MM-DD
                            			pageName: 'homepage', // Page name.
										siteEnv: 'prod', // Standard points of site env: such as dev/stage/test, etc.
                                    	sysEnv: 'desktop', // Mobile / Desktop / Tablet.
                            			language: 'ENGLISH', // From the folder structure, first folder following the domain.
                            			server: ' ', // Domain in URL. Specific to environment.
                            			disableAddthis: 'off' //Addthis status i.e. true for disabled, false for enabled.
                        		}
				},
				 user: {
                       			 segment : {
                           			 exportStatus: 'currently exporting - CEDDL',
                           			 persona: '',
                           			 buyerStage: '',
                            		 guid: '',
                            		 authStatus: "not-authenticated",
                           			 myedcCustStatus: "non-myEDC user" ,
                            		 externalID: ''
					 }
                        	},
                   events: [{eventInfo: {
				eventPageName: '',
				eventComponent: '',
				eventType: '',
				eventName: '',
				eventText: '',
				eventPage: window.location.href
				}}]
			};
			if (window[window.EDC.datalayerObj]) {

				window[window.EDC.datalayerObj] = objCEDDL;
				
	
        	  	}
			 EDCTest.utils.dataLayerTracking(obj);
			 
		}
	return {
            init: init
        };
	})();

        dataLayerJS.init();

</script>
	
	 <!-- End of Data layer -->
	
	
	</body>

</html>
