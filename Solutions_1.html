<html>
	<head>
	<script src="https://assets.adobedtm.com/e72b4113c11a/28cf14cbcd96/launch-d2a0090a9844-development.min.js" async></script>
	<!--Stage and prod launch code
	<script src="https://assets.adobedtm.com/e72b4113c11a/28cf14cbcd96/launch-a9c72840eaf3-staging.min.js" async></script>
	<script src="https://assets.adobedtm.com/e72b4113c11a/28cf14cbcd96/launch-8fe391326d74.min.js" async></script>--->
	<title>Testing the event driven data layer Page 2</title>
	</head>
	
	
	<body>
	<script src="testEDDL.js"></script>
	
	<h1> Data Layer Test Page 2 </h1>
	
	<a href = "index.html" onclick="updateDataLayer()" target="_blank">Go back</a>
		<script>
		function updateDataLayer(){
		var obj = {
			'event' : 'cta',
			'eventInfo': {
				'eventAction': 'click',
				'eventName': 'link click',	
				'eventType': 'link',
				'eventComponent': 'contact information', 	
				'eventPage': 'Solutions_1.html',	
				'eventPageName': 'Data Layer Test Page 2',
				'destinationPage': 'solution',
				'eventText': 'Go back'	            //expl: 'learn more'
			}
		}
		EDCTest.utils.dataLayerTracking(obj);
	}
	</script>
	
		<!--Data Layer--->
	<script type="text/javascript">
	
	var dataLayerJS = (function (){
		'use strict';
		 
		 function init(){
			
			var obj= {
				'event': 'page-loaded',
				'page': {
					'pageType': 'content page',
					'pageName': 'Test Page 2',
					'primaryCategory': '',
					'subCategory1': '',
					'subCategory2': '',
					'issueDate': '2018-09-19',
					'siteEnv': 'prod',            //'qac', 'ppr', 'production'
					'sysEnv': 'desktop', 	 // 'mobile', 'desktop', 'tablet'
					'language': 'ENGLISH',	// 'english', 'french'
					'server': 'local host',
				},
				'user': {
					'authStatus' : 'not-authenticated',    //status is non-authenticated until successful login
					'externalID': '<external ID>',       // to be persisted in Launch
					'guid': '123456789'                 // to be persisted in Launch

				}
			}
			
			if (window[EDCTest.datalayerObj]) {
				 window[window.EDCTest.datalayerObj].push(obj);
						//EDC.forms.WaitUntilCustomerGUIDIsRetrieved(); // Eloqua Customer GUID.
					   // window.EDC.utils.addListTags('region', '[]', obj.page.content);
					   // window.EDC.utils.addListTags('solution', '[]', obj.user.segment);
			}
			}
		 return {
            init
        };
	})();

    dataLayerJS.init();

	</script>
	<!-- End of Data layer -->

	</body>

</html>
